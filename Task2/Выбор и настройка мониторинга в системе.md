## Мотивация
Мониторинг — сбор бизнесовых и инфраструктурных метрик (metrics).
- Мониторинг производительности. Повышение быстродействия системы и распределение ресурсов. Можно выявлять узкие места. Помогает оптимизировать производительность — вы можете проанализировать, как система работает под разными нагрузками. Это приоритет номер один в нашем случае.
- Повышение удовлетворённости пользователей. Своевременное решение проблем, которые связаны с производительностью и функциональностью приложения, улучшает пользовательский опыт. Это приоритет номер два, пользователи жалуются.
- Ускорение рабочего процесса и DevOps. Наблюдаемость способствует оптимизации процессов и сокращению количества ошибок что помогает ускорить рабочий процесс и улучшить взаимодействие между командами. Команду нужно расширять и лучше сразу эффективно использовать новых сотрудников лучшим образом окупая затраты на расширение штата.
- Мониторинг безопасности. Улучшение видимости и повышение безопасности системы. Поможет получить полное представление о работе системы. Чем выше видимость, тем проще обеспечить безопасность. Минимизирует риски диверсий со стороны конкурентов или ошибок со стороны пользователей открытого MES API.
- Ценные бизнес-инсайты. Накопленные данные могут привести вас к бизнес-инсайтам и помогут принимать стратегические решения более обоснованно.


## Выбор подхода к мониторингу
Системе рекомендуется кеширование данных, но важно понимание насыщенности, поэтому лучше подходит «Четыре золотых сигнала», особенно для вычислительной части MES API.
Тем не менее для мониторинга баз данных можно использовать USE. Для запрос-ориентированных сервисов без вычислительной нагрузки можно использовать RED. 

## Выбор метрик
Опишите, какие метрики и в каких частях системы вы будете отслеживать. Перед вами список метрик. Выберите метрики, которые вы считаете нужным отслеживать. Для выбранных метрик напишите:
Зачем нужна эта метрика.
Нужны ли ярлыки для этой метрики. Если ярлыки нужны, опишите, какие именно вы планируете добавить.
Вы можете не ограничивать себя только этим списком. Если вы видите, что стоит добавить какие-то ещё метрики, — добавьте и их тоже.

- Number of dead-letter-exchange letters in RabbitMQ
- Number of message in flight in RabbitMQ
- Number of requests (RPS) for internet shop API
- Number of requests (RPS) for CRM API
- Number of requests (RPS) for MES API
- Number of requests (RPS) per user for internet shop API
- Number of requests (RPS) per user for CRM API
- Number of requests (RPS) per user for MES API
- CPU % for shop API
- CPU % for CRM API
- CPU % for MES API
- Memory Utilisation for shop API
- Memory Utilisation for CRM API
- Memory Utilisation for MES API
- Memory Utilisation for shop db instance
- Memory Utilisation for MES db instance
- Number of connections for shop db instance
- Number of connections for MES db instance
- Response time (latency) for shop API
- Response time (latency) for CRM API
- Response time (latency) for MES API
- Size of S3 storage
- Size of shop db instance
- Size of MES db instance
- Number of HTTP 200 for shop API
- Number of HTTP 200 for CRM API
- Number of HTTP 200 for MES API
- Number of HTTP 500 for shop API
- Number of HTTP 500 for CRM API
- Number of HTTP 500 for MES API
- Number of HTTP 500 for shop API
- Number of simultanious sessions for shop API
- Number of simultanious sessions for CRM API
- Number of simultanious sessions for MES API
- Kb tranferred (received) for shop API
- Kb tranferred (received) for CRM API
- Kb tranferred (received) for MES API
- Kb provided (sent) for shop API
- Kb provided (sent) for CRM API
- Kb provided (sent) for MES API

## План действий
- Реализовать генерацию метрик в приложениях/сервисах
- Развернуть Prometheus: создать docker образ, создать файл конфигурации, задать список сервисов для извлечения метрик
- Настроить Grafana для работы с сервером Prometheus
- Настроить в Grafana дашборды и метрики для визуализации
